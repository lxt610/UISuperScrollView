{"version":3,"sources":["assets/examples/chat/chatItem.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAE5C;IAAsC,4BAAY;IAAlD;QAAA,qEA+BC;QA9BsB,WAAK,GAAY,IAAI,CAAA;QACrB,UAAI,GAAY,IAAI,CAAA;;IA6B3C,CAAC;IA1BU,uBAAI,GAAX,UAAY,IAAS;;QACjB,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,IAAI,OAAO,CAAA;QACxC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,IAAI,MAAM,CAAA;QACtC,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAA;QACvD,MAAA,IAAI,CAAC,KAAK,0CAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,EAAC;QAE7E,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAA;QAC3E,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAA;QAChF,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAA;QAC3E,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAA;QAC5C,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAA;QAChC,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,EAAE,CAAA;QACtC,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAAA;QAC9B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAA;QACvD,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAA;IAClD,CAAC;IACO,+BAAY,GAApB;QACI,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,EAAE;YAC7B,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAA;YACrD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,CAAA;YAC3B,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,EAAE,CAAA;YACtC,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAAA;YAC9B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAA;YACvD,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAA;SACjD;IACL,CAAC;IA7BkB;QAAlB,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;2CAAsB;IACrB;QAAlB,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;0CAAqB;IAFtB,QAAQ;QAD5B,OAAO;OACa,QAAQ,CA+B5B;IAAD,eAAC;CA/BD,AA+BC,CA/BqC,EAAE,CAAC,SAAS,GA+BjD;kBA/BoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\n@ccclass\nexport default class chatItem extends cc.Component {\n    @property(cc.Node) other: cc.Node = null\n    @property(cc.Node) self: cc.Node = null\n    private label: cc.Label\n    private background: cc.Layout\n    public show(info: any) {\n        this.other.active = info.type == 'other'\n        this.self.active = info.type == 'self'\n        let node = info.type == 'self' ? this.self : this.other\n        this.label?.node.off(cc.Node.EventType.SIZE_CHANGED, this.onChangeSize, this)\n\n        this.background = node.getChildByName('background').getComponent(cc.Layout)\n        this.label = this.background.node.getChildByName('label').getComponent(cc.Label)\n        this.label.node.on(cc.Node.EventType.SIZE_CHANGED, this.onChangeSize, this)\n        this.label.overflow = cc.Label.Overflow.NONE\n        this.label.string = info.message\n        this.label['_forceUpdateRenderData']()\n        this.background.updateLayout()\n        this.background.node.width = this.label.node.width + 20\n        this.node.height = this.background.node.height\n    }\n    private onChangeSize() {\n        if (this.label.node.width > 600) {\n            this.label.overflow = cc.Label.Overflow.RESIZE_HEIGHT\n            this.label.node.width = 600\n            this.label['_forceUpdateRenderData']()\n            this.background.updateLayout()\n            this.background.node.width = this.label.node.width + 20\n            this.node.height = this.background.node.height\n        }\n    }\n}\n"]}