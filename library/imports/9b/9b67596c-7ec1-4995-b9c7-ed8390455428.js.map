{"version":3,"sources":["assets/examples/chat/chatPanel.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,2DAAsD;AACtD,uCAAkC;AAE5B,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAE5C;IAAuC,6BAAY;IAAnD;QAAA,qEAuCC;QAtC4B,YAAM,GAAkB,IAAI,CAAA;QAC/B,WAAK,GAAe,IAAI,CAAA;QACtC,gBAAU,GAAG;YACjB,MAAM;YACN,UAAU;YACV,IAAI;YACJ,KAAK;YACL,MAAM;YACN,OAAO;YACP,SAAS;SACZ,CAAA;QACO,cAAQ,GAAU,EAAE,CAAA;QACpB,WAAK,GAAG,CAAC,CAAA;;IA0BrB,CAAC;IAzBiB,wBAAI,GAAlB;;;;gBACI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;oBACf,IAAI,EAAE,MAAM;oBACZ,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,GAAG;iBACpC,CAAC,CAAA;gBACF,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,EAAE,CAAA;gBACtB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAA;gBACvC,IAAI,CAAC,YAAY,CAAC;;;;gCACd,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;oCACf,IAAI,EAAE,OAAO;oCACb,OAAO,EAAE,KAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,EAAE,CAAG;iCAC9C,CAAC,CAAA;gCACF,qBAAM,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAA;;gCAA7C,SAA6C,CAAA;gCAC7C,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,CAAA;gCAC5B,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM;oCAAE,IAAI,CAAC,KAAK,GAAG,CAAC,CAAA;;;;qBAC3D,EAAE,CAAC,CAAC,CAAA;;;;KACR;IACO,2BAAO,GAAf,UAAgB,IAAa,EAAE,KAAa;QACxC,IAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,GAAG,KAAK,CAAC,CAAA;QAC1D,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,kBAAQ,CAAC,CAAA;QACtC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;IACnB,CAAC;IACO,0BAAM,GAAd;QACI,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,CAAA;IACjC,CAAC;IArCwB;QAAxB,QAAQ,CAAC,uBAAa,CAAC;6CAA6B;IAC/B;QAArB,QAAQ,CAAC,EAAE,CAAC,OAAO,CAAC;4CAAyB;IAF7B,SAAS;QAD7B,OAAO;OACa,SAAS,CAuC7B;IAAD,gBAAC;CAvCD,AAuCC,CAvCsC,EAAE,CAAC,SAAS,GAuClD;kBAvCoB,SAAS","file":"","sourceRoot":"/","sourcesContent":["import UISuperLayout from '../../cores/UISuperLayout';\nimport chatItem from './chatItem';\n\nconst { ccclass, property } = cc._decorator;\n@ccclass\nexport default class chatPanel extends cc.Component {\n    @property(UISuperLayout) layout: UISuperLayout = null\n    @property(cc.EditBox) input: cc.EditBox = null\n    private aiMessages = [\n        '你说啥?',\n        '请说人话，谢谢!',\n        '啊?',\n        '啥呀?',\n        '咋地了?',\n        '什么情况?',\n        '你不要搞事情哦'\n    ]\n    private messages: any[] = []\n    private index = 0\n    private async emit() {\n        this.messages.push({\n            type: \"self\",\n            message: this.input.string || \"?\"\n        })\n        this.input.string = \"\"\n        this.layout.total(this.messages.length)\n        this.scheduleOnce(async () => {\n            this.messages.push({\n                type: \"other\",\n                message: `${this.aiMessages[this.index++]}`\n            })\n            await this.layout.total(this.messages.length)\n            this.layout.scrollToHeader()\n            if (this.index == this.aiMessages.length) this.index = 0\n        }, 1)\n    }\n    private refresh(node: cc.Node, index: number) {\n        let info = this.messages[this.messages.length - 1 - index]\n        let item = node.getComponent(chatItem)\n        item.show(info)\n    }\n    private goMain() {\n        cc.director.loadScene('main')\n    }\n}\n"]}